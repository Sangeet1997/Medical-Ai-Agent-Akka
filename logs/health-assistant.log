2025-08-15 03:43:40.997 [com.healthassistant.HealthAssistantApp.main()] INFO  c.healthassistant.HealthAssistantApp - Starting Health Assistant System with config: general-medicine
2025-08-15 03:43:41.908 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.event.slf4j.Slf4jLogger - Slf4jLogger started
2025-08-15 03:43:42.593 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Starting up, Akka version [2.8.5] ...
2025-08-15 03:43:42.849 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Registered cluster JMX MBean [akka:type=Cluster]
2025-08-15 03:43:42.893 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Started up successfully
2025-08-15 03:43:42.957 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  akka.cluster.sbr.SplitBrainResolver - SBR started. Config: strategy [KeepMajority], stable-after [20 seconds], down-all-when-unstable [15 seconds], selfUniqueAddress [akka://HealthAssistantSystem@127.0.0.1:2551#2272548486693010591], selfDc [default].
2025-08-15 03:43:43.659 [com.healthassistant.HealthAssistantApp.main()] INFO  c.healthassistant.HealthAssistantApp - Health Assistant System started successfully
2025-08-15 03:43:43.676 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - === CLUSTER NODE STARTING ===
2025-08-15 03:43:43.677 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Node address: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:43:43.682 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Node roles: [general-medicine, dc-default]
2025-08-15 03:43:43.683 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Cluster seed nodes: [akka://HealthAssistantSystem@127.0.0.1:2551, akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:43:43.683 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - ============================
2025-08-15 03:43:43.736 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Health Assistant Router singleton created
2025-08-15 03:43:43.874 [HealthAssistantSystem-akka.actor.default-dispatcher-6] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2552], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2552,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:43:43.875 [HealthAssistantSystem-akka.actor.default-dispatcher-6] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2552], control stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2552,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:43:44.401 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer - Health Assistant HTTP server started at http://localhost:8080
2025-08-15 03:43:44.401 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer - Available endpoints:
2025-08-15 03:43:44.402 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer -   GET  http://localhost:8080/health - Health check
2025-08-15 03:43:44.402 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - HTTP server configuration - Interface: localhost, Port: 8080
2025-08-15 03:43:44.402 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer -   POST http://localhost:8080/query - Submit medical query
2025-08-15 03:43:44.402 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Cluster event listeners would be registered here in a full implementation
2025-08-15 03:43:44.402 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer -   GET  http://localhost:8080/info - System information
2025-08-15 03:43:48.071 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Node [akka://HealthAssistantSystem@127.0.0.1:2551] is JOINING itself (with roles [general-medicine, dc-default], version [0.0.0]) and forming new cluster
2025-08-15 03:43:48.073 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - is the new leader among reachable nodes (more leaders may exist)
2025-08-15 03:43:48.082 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Leader is moving node [akka://HealthAssistantSystem@127.0.0.1:2551] to [Up]
2025-08-15 03:43:48.124 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.sbr.SplitBrainResolver - This node is now the leader responsible for taking SBR decisions among the reachable nodes (more leaders may exist).
2025-08-15 03:43:48.132 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  a.c.s.ClusterSingletonManager - Singleton manager starting singleton actor [akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:43:48.133 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  a.c.s.ClusterSingletonManager - ClusterSingletonManager state change [Start -> Oldest]
2025-08-15 03:43:48.135 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.RouterActor - RouterActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:43:48.145 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  com.healthassistant.actors.LLMActor - LLMActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551 with Ollama URL: http://localhost:11434, model: llama3.2
2025-08-15 03:43:48.145 [HealthAssistantSystem-akka.actor.default-dispatcher-27] INFO  com.healthassistant.actors.LLMActor - LLMActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551 with Ollama URL: http://localhost:11434, model: llama3.2
2025-08-15 03:43:48.145 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.RouterActor - Initialized 3 department actors
2025-08-15 03:43:48.146 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.h.actors.PharmacyActor - PharmacyActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:43:48.146 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:43:48.146 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.healthassistant.actors.LoggerActor - LoggerActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:43:48.146 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  c.healthassistant.actors.LoggerActor - LoggerActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:43:48.147 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  com.healthassistant.actors.LLMActor - LLMActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551 with Ollama URL: http://localhost:11434, model: llama3.2
2025-08-15 03:43:48.147 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.h.actors.RadiologyActor - RadiologyActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:43:48.147 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  c.healthassistant.actors.LoggerActor - LoggerActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:43:48.311 [ForkJoinPool.commonPool-worker-8] INFO  c.h.services.OllamaService - Ollama availability check: Available
2025-08-15 03:43:48.312 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  com.healthassistant.actors.LLMActor - Ollama service is available and ready
2025-08-15 03:43:48.312 [ForkJoinPool.commonPool-worker-8] INFO  c.h.services.OllamaService - Ollama availability check: Available
2025-08-15 03:43:48.313 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  com.healthassistant.actors.LLMActor - Ollama service is available and ready
2025-08-15 03:43:48.314 [ForkJoinPool.commonPool-worker-8] INFO  c.h.services.OllamaService - Ollama availability check: Available
2025-08-15 03:43:48.314 [HealthAssistantSystem-akka.actor.default-dispatcher-27] INFO  com.healthassistant.actors.LLMActor - Ollama service is available and ready
2025-08-15 03:43:48.325 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.actor.LocalActorRef - Message [java.lang.Boolean] to Actor[akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router/pharmacy-actor/pharmacy-llm-actor#-630617909] was unhandled. [1] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.
2025-08-15 03:43:48.325 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.actor.LocalActorRef - Message [java.lang.Boolean] to Actor[akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router/radiology-actor/radiology-llm-actor#371014151] was unhandled. [2] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.
2025-08-15 03:43:48.326 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.actor.LocalActorRef - Message [java.lang.Boolean] to Actor[akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router/general-medicine-actor/llm-actor#-847692919] was unhandled. [3] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.
2025-08-15 03:43:49.117 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  a.c.singleton.ClusterSingletonProxy - Singleton identified at [akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:44:03.128 [HealthAssistantSystem-akka.actor.default-dispatcher-29] WARN  akka.remote.artery.Association - Outbound control stream to [akka://HealthAssistantSystem@127.0.0.1:2552] failed. Restarting it. akka.remote.artery.OutboundHandshake$HandshakeTimeoutException: Handshake with [akka://HealthAssistantSystem@127.0.0.1:2552] did not complete within 20000 ms
2025-08-15 03:44:36.798 [com.healthassistant.HealthAssistantApp.main()] INFO  c.healthassistant.HealthAssistantApp - Starting Health Assistant System with config: pharmacy
2025-08-15 03:44:37.640 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.event.slf4j.Slf4jLogger - Slf4jLogger started
2025-08-15 03:44:38.277 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Starting up, Akka version [2.8.5] ...
2025-08-15 03:44:38.454 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Registered cluster JMX MBean [akka:type=Cluster]
2025-08-15 03:44:38.455 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Started up successfully
2025-08-15 03:44:38.618 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  akka.cluster.sbr.SplitBrainResolver - SBR started. Config: strategy [KeepMajority], stable-after [20 seconds], down-all-when-unstable [15 seconds], selfUniqueAddress [akka://HealthAssistantSystem@127.0.0.1:2552#-6376215340395642865], selfDc [default].
2025-08-15 03:44:39.250 [com.healthassistant.HealthAssistantApp.main()] INFO  c.healthassistant.HealthAssistantApp - Health Assistant System started successfully
2025-08-15 03:44:39.278 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - === CLUSTER NODE STARTING ===
2025-08-15 03:44:39.279 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Node address: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:44:39.283 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Node roles: [pharmacy, dc-default]
2025-08-15 03:44:39.286 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Cluster seed nodes: [akka://HealthAssistantSystem@127.0.0.1:2551, akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:44:39.286 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - ============================
2025-08-15 03:44:39.340 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Health Assistant Router singleton created
2025-08-15 03:44:39.711 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Received InitJoin message from [Actor[akka://HealthAssistantSystem@127.0.0.1:2552/system/cluster/core/daemon/joinSeedNodeProcess-1#1842403416]] to [akka://HealthAssistantSystem@127.0.0.1:2551]
2025-08-15 03:44:39.712 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Sending InitJoinAck message from node [akka://HealthAssistantSystem@127.0.0.1:2551] to [Actor[akka://HealthAssistantSystem@127.0.0.1:2552/system/cluster/core/daemon/joinSeedNodeProcess-1#1842403416]] (version [2.8.5])
2025-08-15 03:44:39.815 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Received InitJoinAck message from [Actor[akka://HealthAssistantSystem@127.0.0.1:2551/system/cluster/core/daemon#1200819051]] to [akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:44:39.854 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Node [akka://HealthAssistantSystem@127.0.0.1:2552] is JOINING, roles [pharmacy, dc-default], version [0.0.0]
2025-08-15 03:44:39.914 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Welcome from [akka://HealthAssistantSystem@127.0.0.1:2551]
2025-08-15 03:44:39.959 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Leader is moving node [akka://HealthAssistantSystem@127.0.0.1:2552] to [Up]
2025-08-15 03:44:40.023 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  a.c.singleton.ClusterSingletonProxy - Singleton identified at [akka://HealthAssistantSystem@127.0.0.1:2551/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:44:40.058 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  a.c.s.ClusterSingletonManager - ClusterSingletonManager state change [Start -> Younger]
2025-08-15 03:44:40.461 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - HTTP server configuration - Interface: localhost, Port: 8081
2025-08-15 03:44:40.461 [ForkJoinPool.commonPool-worker-7] INFO  c.h.http.HealthAssistantHttpServer - Health Assistant HTTP server started at http://localhost:8081
2025-08-15 03:44:40.462 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Cluster event listeners would be registered here in a full implementation
2025-08-15 03:44:40.462 [ForkJoinPool.commonPool-worker-7] INFO  c.h.http.HealthAssistantHttpServer - Available endpoints:
2025-08-15 03:44:40.462 [ForkJoinPool.commonPool-worker-7] INFO  c.h.http.HealthAssistantHttpServer -   GET  http://localhost:8081/health - Health check
2025-08-15 03:44:40.462 [ForkJoinPool.commonPool-worker-7] INFO  c.h.http.HealthAssistantHttpServer -   POST http://localhost:8081/query - Submit medical query
2025-08-15 03:44:40.463 [ForkJoinPool.commonPool-worker-7] INFO  c.h.http.HealthAssistantHttpServer -   GET  http://localhost:8081/info - System information
2025-08-15 03:44:53.488 [com.healthassistant.HealthAssistantApp.main()] INFO  c.healthassistant.HealthAssistantApp - Starting Health Assistant System with config: radiology
2025-08-15 03:44:54.319 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.event.slf4j.Slf4jLogger - Slf4jLogger started
2025-08-15 03:44:54.969 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2553] - Starting up, Akka version [2.8.5] ...
2025-08-15 03:44:55.171 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2553] - Registered cluster JMX MBean [akka:type=Cluster]
2025-08-15 03:44:55.171 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2553] - Started up successfully
2025-08-15 03:44:55.308 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  akka.cluster.sbr.SplitBrainResolver - SBR started. Config: strategy [KeepMajority], stable-after [20 seconds], down-all-when-unstable [15 seconds], selfUniqueAddress [akka://HealthAssistantSystem@127.0.0.1:2553#2225215974069889775], selfDc [default].
2025-08-15 03:44:55.986 [com.healthassistant.HealthAssistantApp.main()] INFO  c.healthassistant.HealthAssistantApp - Health Assistant System started successfully
2025-08-15 03:44:56.038 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - === CLUSTER NODE STARTING ===
2025-08-15 03:44:56.038 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Node address: akka://HealthAssistantSystem@127.0.0.1:2553
2025-08-15 03:44:56.042 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Node roles: [radiology, dc-default]
2025-08-15 03:44:56.046 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Cluster seed nodes: [akka://HealthAssistantSystem@127.0.0.1:2551, akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:44:56.047 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - ============================
2025-08-15 03:44:56.128 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Health Assistant Router singleton created
2025-08-15 03:44:56.481 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Received InitJoin message from [Actor[akka://HealthAssistantSystem@127.0.0.1:2553/system/cluster/core/daemon/joinSeedNodeProcess-1#-341679212]] to [akka://HealthAssistantSystem@127.0.0.1:2551]
2025-08-15 03:44:56.482 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Sending InitJoinAck message from node [akka://HealthAssistantSystem@127.0.0.1:2551] to [Actor[akka://HealthAssistantSystem@127.0.0.1:2553/system/cluster/core/daemon/joinSeedNodeProcess-1#-341679212]] (version [2.8.5])
2025-08-15 03:44:56.482 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Received InitJoin message from [Actor[akka://HealthAssistantSystem@127.0.0.1:2553/system/cluster/core/daemon/joinSeedNodeProcess-1#-341679212]] to [akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:44:56.483 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Sending InitJoinAck message from node [akka://HealthAssistantSystem@127.0.0.1:2552] to [Actor[akka://HealthAssistantSystem@127.0.0.1:2553/system/cluster/core/daemon/joinSeedNodeProcess-1#-341679212]] (version [2.8.5])
2025-08-15 03:44:56.538 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2553] - Received InitJoinAck message from [Actor[akka://HealthAssistantSystem@127.0.0.1:2551/system/cluster/core/daemon#1200819051]] to [akka://HealthAssistantSystem@127.0.0.1:2553]
2025-08-15 03:44:56.578 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Node [akka://HealthAssistantSystem@127.0.0.1:2553] is JOINING, roles [radiology, dc-default], version [0.0.0]
2025-08-15 03:44:56.608 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2553] - Welcome from [akka://HealthAssistantSystem@127.0.0.1:2551]
2025-08-15 03:44:56.688 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  a.c.singleton.ClusterSingletonProxy - Singleton identified at [akka://HealthAssistantSystem@127.0.0.1:2551/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:44:57.171 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - HTTP server configuration - Interface: localhost, Port: 8082
2025-08-15 03:44:57.172 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.HealthAssistantApp - Cluster event listeners would be registered here in a full implementation
2025-08-15 03:44:57.172 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer - Health Assistant HTTP server started at http://localhost:8082
2025-08-15 03:44:57.173 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer - Available endpoints:
2025-08-15 03:44:57.173 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer -   GET  http://localhost:8082/health - Health check
2025-08-15 03:44:57.173 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer -   POST http://localhost:8082/query - Submit medical query
2025-08-15 03:44:57.173 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer -   GET  http://localhost:8082/info - System information
2025-08-15 03:44:57.263 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Leader is moving node [akka://HealthAssistantSystem@127.0.0.1:2553] to [Up]
2025-08-15 03:44:57.922 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  a.c.s.ClusterSingletonManager - ClusterSingletonManager state change [Start -> Younger]
2025-08-15 03:46:01.275 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-001: I have a sore throat and fever. What could this be?
2025-08-15 03:46:01.285 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Routing query bffdf5a4-45a3-430f-9301-a4a42f3f200b from user test-user-001 to department: general-medicine (Query: 'I have a sore throat and fever. What could this be?')
2025-08-15 03:46:01.287 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Successfully routed query bffdf5a4-45a3-430f-9301-a4a42f3f200b to general-medicine department using 'tell' pattern
2025-08-15 03:46:01.289 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor processing query bffdf5a4-45a3-430f-9301-a4a42f3f200b from user test-user-001 on node akka://HealthAssistantSystem@127.0.0.1:2551 (ask pattern)
2025-08-15 03:46:01.291 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.h.actors.GeneralMedicineActor - Sent query bffdf5a4-45a3-430f-9301-a4a42f3f200b to LLMActor using 'ask' pattern
2025-08-15 03:46:01.291 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  com.healthassistant.actors.LLMActor - Processing query bffdf5a4-45a3-430f-9301-a4a42f3f200b on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 03:46:01.292 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=623
2025-08-15 03:46:01.293 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=623, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful medical information assistant. Provide general health information, explain symptoms and conditions, and offer general wellness advice. Always emphasize the importance of consulting with healthcare professionals for proper medical diagnosis and treatment, especially for serious or persistent symptoms.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: I have a sore throat and fever. What could this be?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:46:19.254 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2080
2025-08-15 03:46:19.254 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query bffdf5a4-45a3-430f-9301-a4a42f3f200b, response length: 2080
2025-08-15 03:46:19.255 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  c.h.actors.GeneralMedicineActor - Received LLM response for query bffdf5a4-45a3-430f-9301-a4a42f3f200b (success: true)
2025-08-15 03:46:19.255 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query bffdf5a4-45a3-430f-9301-a4a42f3f200b: success=true
2025-08-15 03:46:19.258 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  c.h.actors.GeneralMedicineActor - Sent log entry for query bffdf5a4-45a3-430f-9301-a4a42f3f200b to LoggerActor using 'tell' pattern
2025-08-15 03:46:19.258 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  c.h.actors.GeneralMedicineActor - Completed processing query bffdf5a4-45a3-430f-9301-a4a42f3f200b - responded to user
2025-08-15 03:46:19.264 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query bffdf5a4-45a3-430f-9301-a4a42f3f200b from user test-user-001 to general-medicine department (tell pattern)
2025-08-15 03:46:19.265 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:46:19.265 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - Query ID: bffdf5a4-45a3-430f-9301-a4a42f3f200b
2025-08-15 03:46:19.265 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-001
2025-08-15 03:46:19.265 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - Department: general-medicine
2025-08-15 03:46:19.265 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - Query: I have a sore throat and fever. What could this be?
2025-08-15 03:46:19.266 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - Response: I'm happy to help you explore possible causes of your symptoms, but it's essential to remember that ...
2025-08-15 03:46:19.266 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:46:19.266 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:46:19.256910400
2025-08-15 03:46:19.266 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:46:19.267 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:46:19.309 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-002: What is ibuprofen used for and what are the side effects?
2025-08-15 03:46:19.310 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Routing query 08f8aa54-1851-49d8-ba47-c4464a7df131 from user test-user-002 to department: pharmacy (Query: 'What is ibuprofen used for and what are the side effects?')
2025-08-15 03:46:19.310 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 08f8aa54-1851-49d8-ba47-c4464a7df131 to pharmacy department using 'tell' pattern
2025-08-15 03:46:19.312 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  c.h.actors.PharmacyActor - PharmacyActor processing query 08f8aa54-1851-49d8-ba47-c4464a7df131 from user test-user-002 on node akka://HealthAssistantSystem@127.0.0.1:2551 (forward pattern)
2025-08-15 03:46:19.313 [HealthAssistantSystem-akka.actor.default-dispatcher-29] INFO  c.h.actors.PharmacyActor - Sent pharmacy query 08f8aa54-1851-49d8-ba47-c4464a7df131 to LLMActor for processing
2025-08-15 03:46:19.313 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  com.healthassistant.actors.LLMActor - Processing query 08f8aa54-1851-49d8-ba47-c4464a7df131 on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 03:46:19.313 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=671
2025-08-15 03:46:19.314 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=671, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a knowledgeable pharmacy assistant. Provide accurate information about medications, dosages, side effects, drug interactions, and general pharmaceutical advice. Always emphasize the importance of consulting with pharmacists or healthcare providers for medication decisions and never recommend stopping prescribed medications without medical supervision.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What is ibuprofen used for and what are the side effects?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:46:33.388 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 1872
2025-08-15 03:46:33.389 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 08f8aa54-1851-49d8-ba47-c4464a7df131, response length: 1872
2025-08-15 03:46:33.390 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.actors.PharmacyActor - Received LLM response for pharmacy query 08f8aa54-1851-49d8-ba47-c4464a7df131 (success: true)
2025-08-15 03:46:33.390 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: LoggerActor received forward request for query 08f8aa54-1851-49d8-ba47-c4464a7df131 - will log and forward to original sender
2025-08-15 03:46:33.390 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 08f8aa54-1851-49d8-ba47-c4464a7df131 from user test-user-002 to pharmacy department (tell pattern)
2025-08-15 03:46:33.391 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:46:33.391 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Query ID: 08f8aa54-1851-49d8-ba47-c4464a7df131
2025-08-15 03:46:33.391 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-002
2025-08-15 03:46:33.390 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.actors.PharmacyActor - FORWARD PATTERN: Forwarded pharmacy query 08f8aa54-1851-49d8-ba47-c4464a7df131 response through LoggerActor while maintaining original sender Actor[akka://HealthAssistantSystem/temp/singletonProxyhealth-assistant-router-no-dc$a#0]
2025-08-15 03:46:33.391 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Department: pharmacy
2025-08-15 03:46:33.392 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Query: What is ibuprofen used for and what are the side effects?
2025-08-15 03:46:33.392 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Response: Ibuprofen is a nonsteroidal anti-inflammatory drug (NSAID) commonly used to relieve pain, reduce inf...
2025-08-15 03:46:33.392 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:46:33.392 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:46:33.390498100
2025-08-15 03:46:33.392 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:46:33.393 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:46:33.394 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 08f8aa54-1851-49d8-ba47-c4464a7df131: success=true
2025-08-15 03:46:33.394 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: Successfully logged and forwarded response for query 08f8aa54-1851-49d8-ba47-c4464a7df131 to original sender Actor[akka://HealthAssistantSystem/temp/singletonProxyhealth-assistant-router-no-dc$a#0]
2025-08-15 03:46:33.404 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-003: What should I expect during an MRI scan?
2025-08-15 03:46:33.404 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.RouterActor - Routing query 399cc23d-62bf-43cd-bb6d-9f344c0b818c from user test-user-003 to department: radiology (Query: 'What should I expect during an MRI scan?')
2025-08-15 03:46:33.404 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 399cc23d-62bf-43cd-bb6d-9f344c0b818c to radiology department using 'tell' pattern
2025-08-15 03:46:33.406 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.actors.RadiologyActor - RadiologyActor processing query 399cc23d-62bf-43cd-bb6d-9f344c0b818c from user test-user-003 on node akka://HealthAssistantSystem@127.0.0.1:2551 (multiple patterns)
2025-08-15 03:46:33.407 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.actors.RadiologyActor - Sent radiology query 399cc23d-62bf-43cd-bb6d-9f344c0b818c to LLMActor using 'ask' pattern
2025-08-15 03:46:33.407 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  com.healthassistant.actors.LLMActor - Processing query 399cc23d-62bf-43cd-bb6d-9f344c0b818c on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 03:46:33.408 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=674
2025-08-15 03:46:33.408 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=674, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful radiology information assistant. Provide information about medical imaging procedures, what they detect, preparation requirements, and general information about X-rays, CT scans, MRIs, ultrasounds, and other imaging techniques. Always emphasize that only qualified radiologists and healthcare providers can interpret imaging results and provide medical diagnoses.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What should I expect during an MRI scan?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:46:51.769 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2370
2025-08-15 03:46:51.770 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 399cc23d-62bf-43cd-bb6d-9f344c0b818c, response length: 2370
2025-08-15 03:46:51.770 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.h.actors.RadiologyActor - Received LLM response for radiology query 399cc23d-62bf-43cd-bb6d-9f344c0b818c (success: true)
2025-08-15 03:46:51.770 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.h.actors.RadiologyActor - Sent response to user using 'tell' pattern for query 399cc23d-62bf-43cd-bb6d-9f344c0b818c
2025-08-15 03:46:51.770 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 399cc23d-62bf-43cd-bb6d-9f344c0b818c: success=true
2025-08-15 03:46:51.771 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.h.actors.RadiologyActor - Sent log entry for query 399cc23d-62bf-43cd-bb6d-9f344c0b818c to LoggerActor using 'tell' pattern
2025-08-15 03:46:51.771 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 399cc23d-62bf-43cd-bb6d-9f344c0b818c from user test-user-003 to radiology department (tell pattern)
2025-08-15 03:46:51.771 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.h.actors.RadiologyActor - RadiologyActor completed processing query 399cc23d-62bf-43cd-bb6d-9f344c0b818c using multiple communication patterns
2025-08-15 03:46:51.771 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:46:51.772 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Query ID: 399cc23d-62bf-43cd-bb6d-9f344c0b818c
2025-08-15 03:46:51.772 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-003
2025-08-15 03:46:51.772 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Department: radiology
2025-08-15 03:46:51.772 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Query: What should I expect during an MRI scan?
2025-08-15 03:46:51.773 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Response: I'd be happy to help you understand what to expect during an MRI (Magnetic Resonance Imaging) scan!
...
2025-08-15 03:46:51.773 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:46:51.773 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:46:51.771169700
2025-08-15 03:46:51.773 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:46:51.774 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:46:51.781 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-004: What are the symptoms of diabetes?
2025-08-15 03:46:51.781 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Routing query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf from user test-user-004 to department: general-medicine (Query: 'What are the symptoms of diabetes?')
2025-08-15 03:46:51.781 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf to general-medicine department using 'tell' pattern
2025-08-15 03:46:51.781 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor processing query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf from user test-user-004 on node akka://HealthAssistantSystem@127.0.0.1:2551 (ask pattern)
2025-08-15 03:46:51.782 [HealthAssistantSystem-akka.actor.default-dispatcher-30] INFO  c.h.actors.GeneralMedicineActor - Sent query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf to LLMActor using 'ask' pattern
2025-08-15 03:46:51.782 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  com.healthassistant.actors.LLMActor - Processing query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 03:46:51.782 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=606
2025-08-15 03:46:51.783 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=606, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful medical information assistant. Provide general health information, explain symptoms and conditions, and offer general wellness advice. Always emphasize the importance of consulting with healthcare professionals for proper medical diagnosis and treatment, especially for serious or persistent symptoms.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What are the symptoms of diabetes?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:47:08.016 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2265
2025-08-15 03:47:08.016 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf, response length: 2265
2025-08-15 03:47:08.016 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.h.actors.GeneralMedicineActor - Received LLM response for query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf (success: true)
2025-08-15 03:47:08.017 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.h.actors.GeneralMedicineActor - Sent log entry for query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf to LoggerActor using 'tell' pattern
2025-08-15 03:47:08.017 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf: success=true
2025-08-15 03:47:08.017 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf from user test-user-004 to general-medicine department (tell pattern)
2025-08-15 03:47:08.017 [HealthAssistantSystem-akka.actor.default-dispatcher-28] INFO  c.h.actors.GeneralMedicineActor - Completed processing query 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf - responded to user
2025-08-15 03:47:08.017 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:47:08.018 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Query ID: 75b1a1a8-13a4-4d9a-b1af-cf69d121aabf
2025-08-15 03:47:08.018 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-004
2025-08-15 03:47:08.018 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Department: general-medicine
2025-08-15 03:47:08.018 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Query: What are the symptoms of diabetes?
2025-08-15 03:47:08.018 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Response: I'd be happy to help you understand the common symptoms of diabetes. However, please note that only ...
2025-08-15 03:47:08.019 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:47:08.019 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:47:08.017689600
2025-08-15 03:47:08.019 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:47:08.019 [HealthAssistantSystem-akka.actor.default-dispatcher-23] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:48:13.885 [HealthAssistantSystem-akka.actor.default-dispatcher-6] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2551], message stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:48:13.886 [HealthAssistantSystem-akka.actor.default-dispatcher-6] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2551], control stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:48:13.890 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2551], control stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:48:13.891 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2551], message stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:48:17.640 [HealthAssistantSystem-akka.actor.default-dispatcher-26] WARN  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Marking node as UNREACHABLE [Member(akka://HealthAssistantSystem@127.0.0.1:2551, Up)].
2025-08-15 03:48:17.641 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - is the new leader among reachable nodes (more leaders may exist)
2025-08-15 03:48:17.646 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.sbr.SplitBrainResolver - This node is now the leader responsible for taking SBR decisions among the reachable nodes (more leaders may exist).
2025-08-15 03:48:17.995 [HealthAssistantSystem-akka.actor.default-dispatcher-6] WARN  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2553] - Marking node as UNREACHABLE [Member(akka://HealthAssistantSystem@127.0.0.1:2551, Up)].
2025-08-15 03:48:23.429 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2551], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2551,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:48:24.083 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2551], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2551,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:48:36.985 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Leader can currently not perform its duties, reachability status: [akka://HealthAssistantSystem@127.0.0.1:2552 -> akka://HealthAssistantSystem@127.0.0.1:2551: Unreachable [Unreachable] (1), akka://HealthAssistantSystem@127.0.0.1:2553 -> akka://HealthAssistantSystem@127.0.0.1:2551: Unreachable [Unreachable] (1)], member status: [akka://HealthAssistantSystem@127.0.0.1:2551 Up seen=false, akka://HealthAssistantSystem@127.0.0.1:2552 Up seen=true, akka://HealthAssistantSystem@127.0.0.1:2553 Up seen=true]
2025-08-15 03:48:38.006 [HealthAssistantSystem-akka.actor.default-dispatcher-26] WARN  akka.cluster.sbr.SplitBrainResolver - SBR took decision DownUnreachable and is downing [akka://HealthAssistantSystem@127.0.0.1:2551], [1] unreachable of [3] members, all members in DC [Member(akka://HealthAssistantSystem@127.0.0.1:2551, Up), Member(akka://HealthAssistantSystem@127.0.0.1:2552, Up), Member(akka://HealthAssistantSystem@127.0.0.1:2553, Up)], full reachability status: [akka://HealthAssistantSystem@127.0.0.1:2552 -> akka://HealthAssistantSystem@127.0.0.1:2551: Unreachable [Unreachable] (1), akka://HealthAssistantSystem@127.0.0.1:2553 -> akka://HealthAssistantSystem@127.0.0.1:2551: Unreachable [Unreachable] (1)]
2025-08-15 03:48:38.007 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.sbr.SplitBrainResolver - SBR is downing [UniqueAddress(akka://HealthAssistantSystem@127.0.0.1:2551,2272548486693010591)]
2025-08-15 03:48:38.008 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Marking unreachable node [akka://HealthAssistantSystem@127.0.0.1:2551] as [Down]
2025-08-15 03:48:38.009 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.sbr.SplitBrainResolver - SBR found unreachable members changed during stable-after period. Resetting timer. Now 1 unreachable members found. Downing decision will not be made before 2025-08-15T07:48:58.008898500Z.
2025-08-15 03:48:39.024 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Leader can perform its duties again
2025-08-15 03:48:39.029 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Leader is removing unreachable node [akka://HealthAssistantSystem@127.0.0.1:2551]
2025-08-15 03:48:39.040 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Younger observed OldestChanged: [Some(akka://HealthAssistantSystem@127.0.0.1:2551) -> myself]
2025-08-15 03:48:39.042 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - ClusterSingletonManager state change [Younger -> BecomingOldest]
2025-08-15 03:48:39.411 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  a.c.s.ClusterSingletonManager - Younger observed OldestChanged: [Some(akka://HealthAssistantSystem@127.0.0.1:2551) -> Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:48:40.063 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [1], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:41.082 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [2], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:42.105 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [3], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:42.110 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2551], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2551,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:48:43.113 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [4], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:44.132 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [5], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:45.155 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [6], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:46.164 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [7], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:47.181 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [8], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:48.200 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [9], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:49.224 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [10], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:50.242 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [11], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:50.247 [HealthAssistantSystem-akka.actor.default-dispatcher-25] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2551], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2551,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:48:51.259 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [12], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:52.283 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [13], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:53.304 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [14], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:54.325 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [15], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:55.331 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [16], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:56.352 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [17], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:57.372 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [18], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:58.389 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [19], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2551)]
2025-08-15 03:48:58.395 [HealthAssistantSystem-akka.actor.default-dispatcher-25] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2551], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2551,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:48:59.044 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Member removed [akka://HealthAssistantSystem@127.0.0.1:2551], previous oldest [akka://HealthAssistantSystem@127.0.0.1:2551]
2025-08-15 03:48:59.045 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Singleton manager starting singleton actor [akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:48:59.046 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - ClusterSingletonManager state change [BecomingOldest -> Oldest]
2025-08-15 03:48:59.046 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.RouterActor - RouterActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:48:59.055 [HealthAssistantSystem-akka.actor.default-dispatcher-31] INFO  com.healthassistant.actors.LLMActor - LLMActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552 with Ollama URL: http://localhost:11434, model: llama3.2
2025-08-15 03:48:59.055 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  com.healthassistant.actors.LLMActor - LLMActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552 with Ollama URL: http://localhost:11434, model: llama3.2
2025-08-15 03:48:59.055 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:48:59.055 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.RouterActor - Initialized 3 department actors
2025-08-15 03:48:59.055 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.actors.PharmacyActor - PharmacyActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:48:59.056 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.healthassistant.actors.LoggerActor - LoggerActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:48:59.056 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.actors.RadiologyActor - RadiologyActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:48:59.056 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - LoggerActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:48:59.056 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - LoggerActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:48:59.056 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  com.healthassistant.actors.LLMActor - LLMActor started on node: akka://HealthAssistantSystem@127.0.0.1:2552 with Ollama URL: http://localhost:11434, model: llama3.2
2025-08-15 03:48:59.200 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Ollama availability check: Available
2025-08-15 03:48:59.201 [ForkJoinPool.commonPool-worker-13] INFO  c.h.services.OllamaService - Ollama availability check: Available
2025-08-15 03:48:59.202 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  com.healthassistant.actors.LLMActor - Ollama service is available and ready
2025-08-15 03:48:59.202 [HealthAssistantSystem-akka.actor.default-dispatcher-31] INFO  com.healthassistant.actors.LLMActor - Ollama service is available and ready
2025-08-15 03:48:59.202 [ForkJoinPool.commonPool-worker-13] INFO  c.h.services.OllamaService - Ollama availability check: Available
2025-08-15 03:48:59.202 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  com.healthassistant.actors.LLMActor - Ollama service is available and ready
2025-08-15 03:48:59.209 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  akka.actor.LocalActorRef - Message [java.lang.Boolean] to Actor[akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router/pharmacy-actor/pharmacy-llm-actor#-266206693] was unhandled. [2] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.
2025-08-15 03:48:59.210 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  akka.actor.LocalActorRef - Message [java.lang.Boolean] to Actor[akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router/general-medicine-actor/llm-actor#600094365] was unhandled. [3] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.
2025-08-15 03:48:59.210 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  akka.actor.LocalActorRef - Message [java.lang.Boolean] to Actor[akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router/radiology-actor/radiology-llm-actor#1612873938] was unhandled. [4] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.
2025-08-15 03:48:59.410 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  a.c.singleton.ClusterSingletonProxy - Singleton identified at [akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:48:59.411 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  a.c.s.ClusterSingletonManager - Member removed [akka://HealthAssistantSystem@127.0.0.1:2551]
2025-08-15 03:48:59.799 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  a.c.singleton.ClusterSingletonProxy - Singleton identified at [akka://HealthAssistantSystem@127.0.0.1:2552/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:49:12.044 [com.healthassistant.HealthAssistantApp.main()] INFO  c.healthassistant.HealthAssistantApp - Starting Health Assistant System with config: general-medicine
2025-08-15 03:49:12.898 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.event.slf4j.Slf4jLogger - Slf4jLogger started
2025-08-15 03:49:13.560 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Starting up, Akka version [2.8.5] ...
2025-08-15 03:49:13.743 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Registered cluster JMX MBean [akka:type=Cluster]
2025-08-15 03:49:13.744 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Started up successfully
2025-08-15 03:49:13.883 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.sbr.SplitBrainResolver - SBR started. Config: strategy [KeepMajority], stable-after [20 seconds], down-all-when-unstable [15 seconds], selfUniqueAddress [akka://HealthAssistantSystem@127.0.0.1:2551#7016845827503022805], selfDc [default].
2025-08-15 03:49:14.563 [com.healthassistant.HealthAssistantApp.main()] INFO  c.healthassistant.HealthAssistantApp - Health Assistant System started successfully
2025-08-15 03:49:14.599 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.HealthAssistantApp - === CLUSTER NODE STARTING ===
2025-08-15 03:49:14.600 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.HealthAssistantApp - Node address: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:49:14.604 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.HealthAssistantApp - Node roles: [general-medicine, dc-default]
2025-08-15 03:49:14.606 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.HealthAssistantApp - Cluster seed nodes: [akka://HealthAssistantSystem@127.0.0.1:2551, akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:49:14.607 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.HealthAssistantApp - ============================
2025-08-15 03:49:14.661 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.HealthAssistantApp - Health Assistant Router singleton created
2025-08-15 03:49:15.012 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Received InitJoin message from [Actor[akka://HealthAssistantSystem@127.0.0.1:2551/system/cluster/core/daemon/firstSeedNodeProcess-1#-370356774]] to [akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:49:15.013 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Sending InitJoinAck message from node [akka://HealthAssistantSystem@127.0.0.1:2552] to [Actor[akka://HealthAssistantSystem@127.0.0.1:2551/system/cluster/core/daemon/firstSeedNodeProcess-1#-370356774]] (version [2.8.5])
2025-08-15 03:49:15.038 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Received InitJoin message from [Actor[akka://HealthAssistantSystem@127.0.0.1:2551/system/cluster/core/daemon/firstSeedNodeProcess-1#-370356774]] to [akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:49:15.039 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Sending InitJoinAck message from node [akka://HealthAssistantSystem@127.0.0.1:2552] to [Actor[akka://HealthAssistantSystem@127.0.0.1:2551/system/cluster/core/daemon/firstSeedNodeProcess-1#-370356774]] (version [2.8.5])
2025-08-15 03:49:15.072 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Received InitJoinAck message from [Actor[akka://HealthAssistantSystem@127.0.0.1:2552/system/cluster/core/daemon#-242727161]] to [akka://HealthAssistantSystem@127.0.0.1:2551]
2025-08-15 03:49:15.113 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Node [akka://HealthAssistantSystem@127.0.0.1:2551] is JOINING, roles [general-medicine, dc-default], version [0.0.0]
2025-08-15 03:49:15.148 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Welcome from [akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:49:15.239 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.singleton.ClusterSingletonProxy - Singleton identified at [akka://HealthAssistantSystem@127.0.0.1:2552/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:49:15.750 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.HealthAssistantApp - HTTP server configuration - Interface: localhost, Port: 8080
2025-08-15 03:49:15.750 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.HealthAssistantApp - Cluster event listeners would be registered here in a full implementation
2025-08-15 03:49:15.751 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer - Health Assistant HTTP server started at http://localhost:8080
2025-08-15 03:49:15.751 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer - Available endpoints:
2025-08-15 03:49:15.752 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer -   GET  http://localhost:8080/health - Health check
2025-08-15 03:49:15.752 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer -   POST http://localhost:8080/query - Submit medical query
2025-08-15 03:49:15.752 [ForkJoinPool.commonPool-worker-8] INFO  c.h.http.HealthAssistantHttpServer -   GET  http://localhost:8080/info - System information
2025-08-15 03:49:16.733 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Leader is moving node [akka://HealthAssistantSystem@127.0.0.1:2551] to [Up]
2025-08-15 03:49:16.734 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  akka.cluster.sbr.SplitBrainResolver - This node is not the leader any more and not responsible for taking SBR decisions.
2025-08-15 03:49:16.884 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.sbr.SplitBrainResolver - This node is now the leader responsible for taking SBR decisions among the reachable nodes (more leaders may exist).
2025-08-15 03:49:16.901 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  a.c.s.ClusterSingletonManager - ClusterSingletonManager state change [Start -> Younger]
2025-08-15 03:49:17.754 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - is no longer leader
2025-08-15 03:49:17.892 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - is the new leader among reachable nodes (more leaders may exist)
2025-08-15 03:50:23.404 [HealthAssistantSystem-akka.actor.default-dispatcher-34] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2553], control stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:50:23.405 [HealthAssistantSystem-akka.actor.default-dispatcher-34] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2553], message stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:50:23.424 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2553], message stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:50:23.425 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2553], control stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:50:27.221 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Marking node as UNREACHABLE [Member(akka://HealthAssistantSystem@127.0.0.1:2553, Up)].
2025-08-15 03:50:27.226 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.sbr.SplitBrainResolver - SBR found unreachable members, waiting for stable-after = 20000 ms before taking downing decision. Now 1 unreachable members found. Downing decision will not be made before 2025-08-15T07:50:47.225900800Z.
2025-08-15 03:50:28.062 [HealthAssistantSystem-akka.actor.default-dispatcher-34] WARN  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2552] - Marking node as UNREACHABLE [Member(akka://HealthAssistantSystem@127.0.0.1:2553, Up)].
2025-08-15 03:50:32.645 [HealthAssistantSystem-akka.actor.default-dispatcher-33] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2553], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2553,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:50:37.433 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2553], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2553,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:50:47.612 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Leader can currently not perform its duties, reachability status: [akka://HealthAssistantSystem@127.0.0.1:2551 -> akka://HealthAssistantSystem@127.0.0.1:2553: Unreachable [Unreachable] (1), akka://HealthAssistantSystem@127.0.0.1:2552 -> akka://HealthAssistantSystem@127.0.0.1:2553: Unreachable [Unreachable] (2)], member status: [akka://HealthAssistantSystem@127.0.0.1:2551 Up seen=true, akka://HealthAssistantSystem@127.0.0.1:2552 Up seen=true, akka://HealthAssistantSystem@127.0.0.1:2553 Up seen=false]
2025-08-15 03:50:47.614 [HealthAssistantSystem-akka.actor.default-dispatcher-26] WARN  akka.cluster.sbr.SplitBrainResolver - SBR took decision DownUnreachable and is downing [akka://HealthAssistantSystem@127.0.0.1:2553], [1] unreachable of [3] members, all members in DC [Member(akka://HealthAssistantSystem@127.0.0.1:2551, Up), Member(akka://HealthAssistantSystem@127.0.0.1:2552, Up), Member(akka://HealthAssistantSystem@127.0.0.1:2553, Up)], full reachability status: [akka://HealthAssistantSystem@127.0.0.1:2551 -> akka://HealthAssistantSystem@127.0.0.1:2553: Unreachable [Unreachable] (1), akka://HealthAssistantSystem@127.0.0.1:2552 -> akka://HealthAssistantSystem@127.0.0.1:2553: Unreachable [Unreachable] (2)]
2025-08-15 03:50:47.615 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.sbr.SplitBrainResolver - SBR is downing [UniqueAddress(akka://HealthAssistantSystem@127.0.0.1:2553,2225215974069889775)]
2025-08-15 03:50:47.615 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Marking unreachable node [akka://HealthAssistantSystem@127.0.0.1:2553] as [Down]
2025-08-15 03:50:47.616 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.sbr.SplitBrainResolver - SBR found unreachable members changed during stable-after period. Resetting timer. Now 1 unreachable members found. Downing decision will not be made before 2025-08-15T07:51:07.616385Z.
2025-08-15 03:50:48.616 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Leader can perform its duties again
2025-08-15 03:50:48.619 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Leader is removing unreachable node [akka://HealthAssistantSystem@127.0.0.1:2553]
2025-08-15 03:51:08.632 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Member removed [akka://HealthAssistantSystem@127.0.0.1:2553]
2025-08-15 03:51:50.477 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-001: I have a sore throat and fever. What could this be?
2025-08-15 03:51:50.640 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.RouterActor - Routing query a1fa1a2c-cc90-4390-9667-5f2a932cf40c from user test-user-001 to department: general-medicine (Query: 'I have a sore throat and fever. What could this be?')
2025-08-15 03:51:50.642 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.RouterActor - Successfully routed query a1fa1a2c-cc90-4390-9667-5f2a932cf40c to general-medicine department using 'tell' pattern
2025-08-15 03:51:50.643 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor processing query a1fa1a2c-cc90-4390-9667-5f2a932cf40c from user test-user-001 on node akka://HealthAssistantSystem@127.0.0.1:2552 (ask pattern)
2025-08-15 03:51:50.645 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.GeneralMedicineActor - Sent query a1fa1a2c-cc90-4390-9667-5f2a932cf40c to LLMActor using 'ask' pattern
2025-08-15 03:51:50.645 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  com.healthassistant.actors.LLMActor - Processing query a1fa1a2c-cc90-4390-9667-5f2a932cf40c on node akka://HealthAssistantSystem@127.0.0.1:2552 using LLaMA model (ask pattern)
2025-08-15 03:51:50.646 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=623
2025-08-15 03:51:50.647 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=623, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful medical information assistant. Provide general health information, explain symptoms and conditions, and offer general wellness advice. Always emphasize the importance of consulting with healthcare professionals for proper medical diagnosis and treatment, especially for serious or persistent symptoms.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: I have a sore throat and fever. What could this be?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:52:05.627 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2050
2025-08-15 03:52:05.627 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query a1fa1a2c-cc90-4390-9667-5f2a932cf40c, response length: 2050
2025-08-15 03:52:05.628 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Received LLM response for query a1fa1a2c-cc90-4390-9667-5f2a932cf40c (success: true)
2025-08-15 03:52:05.633 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Sent log entry for query a1fa1a2c-cc90-4390-9667-5f2a932cf40c to LoggerActor using 'tell' pattern
2025-08-15 03:52:05.633 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Completed processing query a1fa1a2c-cc90-4390-9667-5f2a932cf40c - responded to user
2025-08-15 03:52:05.637 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query a1fa1a2c-cc90-4390-9667-5f2a932cf40c from user test-user-001 to general-medicine department (tell pattern)
2025-08-15 03:52:05.638 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:52:05.638 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - Query ID: a1fa1a2c-cc90-4390-9667-5f2a932cf40c
2025-08-15 03:52:05.638 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-001
2025-08-15 03:52:05.638 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - Department: general-medicine
2025-08-15 03:52:05.638 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - Query: I have a sore throat and fever. What could this be?
2025-08-15 03:52:05.639 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - Response: I'm not a doctor, but I can provide some general information that may help. If you're experiencing a...
2025-08-15 03:52:05.639 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:52:05.639 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:52:05.632010100
2025-08-15 03:52:05.640 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:52:05.640 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:52:05.676 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query a1fa1a2c-cc90-4390-9667-5f2a932cf40c: success=true
2025-08-15 03:52:05.716 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-002: What is ibuprofen used for and what are the side effects?
2025-08-15 03:52:05.718 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.RouterActor - Routing query ffbfad85-4551-4cc8-aabd-ac26d9a595bc from user test-user-002 to department: pharmacy (Query: 'What is ibuprofen used for and what are the side effects?')
2025-08-15 03:52:05.719 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.healthassistant.actors.RouterActor - Successfully routed query ffbfad85-4551-4cc8-aabd-ac26d9a595bc to pharmacy department using 'tell' pattern
2025-08-15 03:52:05.720 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.PharmacyActor - PharmacyActor processing query ffbfad85-4551-4cc8-aabd-ac26d9a595bc from user test-user-002 on node akka://HealthAssistantSystem@127.0.0.1:2552 (forward pattern)
2025-08-15 03:52:05.721 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  com.healthassistant.actors.LLMActor - Processing query ffbfad85-4551-4cc8-aabd-ac26d9a595bc on node akka://HealthAssistantSystem@127.0.0.1:2552 using LLaMA model (ask pattern)
2025-08-15 03:52:05.721 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.PharmacyActor - Sent pharmacy query ffbfad85-4551-4cc8-aabd-ac26d9a595bc to LLMActor for processing
2025-08-15 03:52:05.722 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=671
2025-08-15 03:52:05.722 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=671, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a knowledgeable pharmacy assistant. Provide accurate information about medications, dosages, side effects, drug interactions, and general pharmaceutical advice. Always emphasize the importance of consulting with pharmacists or healthcare providers for medication decisions and never recommend stopping prescribed medications without medical supervision.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What is ibuprofen used for and what are the side effects?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:52:20.851 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2039
2025-08-15 03:52:20.851 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query ffbfad85-4551-4cc8-aabd-ac26d9a595bc, response length: 2039
2025-08-15 03:52:20.852 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.PharmacyActor - Received LLM response for pharmacy query ffbfad85-4551-4cc8-aabd-ac26d9a595bc (success: true)
2025-08-15 03:52:20.852 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.PharmacyActor - FORWARD PATTERN: Forwarded pharmacy query ffbfad85-4551-4cc8-aabd-ac26d9a595bc response through LoggerActor while maintaining original sender Actor[akka://HealthAssistantSystem@127.0.0.1:2551/temp/singletonProxyhealth-assistant-router-no-dc$b#0]
2025-08-15 03:52:20.852 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: LoggerActor received forward request for query ffbfad85-4551-4cc8-aabd-ac26d9a595bc - will log and forward to original sender
2025-08-15 03:52:20.853 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query ffbfad85-4551-4cc8-aabd-ac26d9a595bc from user test-user-002 to pharmacy department (tell pattern)
2025-08-15 03:52:20.853 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:52:20.853 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Query ID: ffbfad85-4551-4cc8-aabd-ac26d9a595bc
2025-08-15 03:52:20.854 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-002
2025-08-15 03:52:20.854 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Department: pharmacy
2025-08-15 03:52:20.854 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Query: What is ibuprofen used for and what are the side effects?
2025-08-15 03:52:20.854 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Response: Ibuprofen is a nonsteroidal anti-inflammatory drug (NSAID) commonly used to relieve pain, inflammati...
2025-08-15 03:52:20.855 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:52:20.855 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:52:20.852866200
2025-08-15 03:52:20.855 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:52:20.855 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:52:20.856 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: Successfully logged and forwarded response for query ffbfad85-4551-4cc8-aabd-ac26d9a595bc to original sender Actor[akka://HealthAssistantSystem@127.0.0.1:2551/temp/singletonProxyhealth-assistant-router-no-dc$b#0]
2025-08-15 03:52:20.857 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query ffbfad85-4551-4cc8-aabd-ac26d9a595bc: success=true
2025-08-15 03:52:20.867 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-003: What should I expect during an MRI scan?
2025-08-15 03:52:20.869 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.RouterActor - Routing query 68b1bd45-3022-49ce-b141-c6c04b976d91 from user test-user-003 to department: radiology (Query: 'What should I expect during an MRI scan?')
2025-08-15 03:52:20.869 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 68b1bd45-3022-49ce-b141-c6c04b976d91 to radiology department using 'tell' pattern
2025-08-15 03:52:20.871 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.RadiologyActor - RadiologyActor processing query 68b1bd45-3022-49ce-b141-c6c04b976d91 from user test-user-003 on node akka://HealthAssistantSystem@127.0.0.1:2552 (multiple patterns)
2025-08-15 03:52:20.871 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.RadiologyActor - Sent radiology query 68b1bd45-3022-49ce-b141-c6c04b976d91 to LLMActor using 'ask' pattern
2025-08-15 03:52:20.871 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  com.healthassistant.actors.LLMActor - Processing query 68b1bd45-3022-49ce-b141-c6c04b976d91 on node akka://HealthAssistantSystem@127.0.0.1:2552 using LLaMA model (ask pattern)
2025-08-15 03:52:20.872 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=674
2025-08-15 03:52:20.872 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=674, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful radiology information assistant. Provide information about medical imaging procedures, what they detect, preparation requirements, and general information about X-rays, CT scans, MRIs, ultrasounds, and other imaging techniques. Always emphasize that only qualified radiologists and healthcare providers can interpret imaging results and provide medical diagnoses.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What should I expect during an MRI scan?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:52:39.335 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2322
2025-08-15 03:52:39.336 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 68b1bd45-3022-49ce-b141-c6c04b976d91, response length: 2322
2025-08-15 03:52:39.337 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.h.actors.RadiologyActor - Received LLM response for radiology query 68b1bd45-3022-49ce-b141-c6c04b976d91 (success: true)
2025-08-15 03:52:39.337 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.h.actors.RadiologyActor - Sent response to user using 'tell' pattern for query 68b1bd45-3022-49ce-b141-c6c04b976d91
2025-08-15 03:52:39.337 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.h.actors.RadiologyActor - Sent log entry for query 68b1bd45-3022-49ce-b141-c6c04b976d91 to LoggerActor using 'tell' pattern
2025-08-15 03:52:39.337 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 68b1bd45-3022-49ce-b141-c6c04b976d91 from user test-user-003 to radiology department (tell pattern)
2025-08-15 03:52:39.337 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.h.actors.RadiologyActor - RadiologyActor completed processing query 68b1bd45-3022-49ce-b141-c6c04b976d91 using multiple communication patterns
2025-08-15 03:52:39.337 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:52:39.338 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Query ID: 68b1bd45-3022-49ce-b141-c6c04b976d91
2025-08-15 03:52:39.338 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-003
2025-08-15 03:52:39.338 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Department: radiology
2025-08-15 03:52:39.338 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Query: What should I expect during an MRI scan?
2025-08-15 03:52:39.338 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 68b1bd45-3022-49ce-b141-c6c04b976d91: success=true
2025-08-15 03:52:39.339 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Response: I'd be happy to help you understand what to expect during an MRI (Magnetic Resonance Imaging) scan!
...
2025-08-15 03:52:39.339 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:52:39.339 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:52:39.337257100
2025-08-15 03:52:39.339 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:52:39.340 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:52:39.348 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-004: What are the symptoms of diabetes?
2025-08-15 03:52:39.349 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.RouterActor - Routing query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4 from user test-user-004 to department: general-medicine (Query: 'What are the symptoms of diabetes?')
2025-08-15 03:52:39.350 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4 to general-medicine department using 'tell' pattern
2025-08-15 03:52:39.350 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor processing query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4 from user test-user-004 on node akka://HealthAssistantSystem@127.0.0.1:2552 (ask pattern)
2025-08-15 03:52:39.350 [HealthAssistantSystem-akka.actor.default-dispatcher-5] INFO  c.h.actors.GeneralMedicineActor - Sent query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4 to LLMActor using 'ask' pattern
2025-08-15 03:52:39.350 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  com.healthassistant.actors.LLMActor - Processing query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4 on node akka://HealthAssistantSystem@127.0.0.1:2552 using LLaMA model (ask pattern)
2025-08-15 03:52:39.351 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=606
2025-08-15 03:52:39.351 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=606, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful medical information assistant. Provide general health information, explain symptoms and conditions, and offer general wellness advice. Always emphasize the importance of consulting with healthcare professionals for proper medical diagnosis and treatment, especially for serious or persistent symptoms.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What are the symptoms of diabetes?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:52:57.264 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2455
2025-08-15 03:52:57.265 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4, response length: 2455
2025-08-15 03:52:57.265 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.actors.GeneralMedicineActor - Received LLM response for query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4 (success: true)
2025-08-15 03:52:57.265 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.actors.GeneralMedicineActor - Sent log entry for query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4 to LoggerActor using 'tell' pattern
2025-08-15 03:52:57.266 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4 from user test-user-004 to general-medicine department (tell pattern)
2025-08-15 03:52:57.266 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.actors.GeneralMedicineActor - Completed processing query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4 - responded to user
2025-08-15 03:52:57.266 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:52:57.266 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Query ID: 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4
2025-08-15 03:52:57.267 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-004
2025-08-15 03:52:57.267 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Department: general-medicine
2025-08-15 03:52:57.267 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Query: What are the symptoms of diabetes?
2025-08-15 03:52:57.267 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 3a8b3fb3-590a-4f9b-a550-f8c71bd198c4: success=true
2025-08-15 03:52:57.267 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Response: Thank you for reaching out to me for general health information! As a medical assistant, I'm happy t...
2025-08-15 03:52:57.268 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:52:57.268 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:52:57.265604400
2025-08-15 03:52:57.268 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2552
2025-08-15 03:52:57.268 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:52:59.225 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2552], message stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:52:59.226 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2552], control stream] Upstream failed, cause: StreamTcpException: The connection closed with error: Connection reset
2025-08-15 03:53:03.124 [HealthAssistantSystem-akka.actor.default-dispatcher-26] WARN  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Marking node as UNREACHABLE [Member(akka://HealthAssistantSystem@127.0.0.1:2552, Up)].
2025-08-15 03:53:03.125 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.sbr.SplitBrainResolver - SBR found unreachable members, waiting for stable-after = 20000 ms before taking downing decision. Now 1 unreachable members found. Downing decision will not be made before 2025-08-15T07:53:23.124701300Z.
2025-08-15 03:53:06.807 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2552], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2552,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:53:08.815 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-001: I have a sore throat and fever. What could this be?
2025-08-15 03:53:16.908 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2552], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2552,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:53:22.473 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Leader can currently not perform its duties, reachability status: [akka://HealthAssistantSystem@127.0.0.1:2551 -> akka://HealthAssistantSystem@127.0.0.1:2552: Unreachable [Unreachable] (2)], member status: [akka://HealthAssistantSystem@127.0.0.1:2551 Up seen=true, akka://HealthAssistantSystem@127.0.0.1:2552 Up seen=false]
2025-08-15 03:53:23.493 [HealthAssistantSystem-akka.actor.default-dispatcher-26] WARN  akka.cluster.sbr.SplitBrainResolver - SBR took decision DownUnreachable and is downing [akka://HealthAssistantSystem@127.0.0.1:2552], [1] unreachable of [2] members, all members in DC [Member(akka://HealthAssistantSystem@127.0.0.1:2551, Up), Member(akka://HealthAssistantSystem@127.0.0.1:2552, Up)], full reachability status: [akka://HealthAssistantSystem@127.0.0.1:2551 -> akka://HealthAssistantSystem@127.0.0.1:2552: Unreachable [Unreachable] (2)]
2025-08-15 03:53:23.494 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.sbr.SplitBrainResolver - SBR is downing [UniqueAddress(akka://HealthAssistantSystem@127.0.0.1:2552,-6376215340395642865)]
2025-08-15 03:53:23.494 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Marking unreachable node [akka://HealthAssistantSystem@127.0.0.1:2552] as [Down]
2025-08-15 03:53:23.495 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.sbr.SplitBrainResolver - SBR found unreachable members changed during stable-after period. Resetting timer. Now 1 unreachable members found. Downing decision will not be made before 2025-08-15T07:53:43.494878600Z.
2025-08-15 03:53:24.516 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Leader can perform its duties again
2025-08-15 03:53:24.517 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.cluster.Cluster - Cluster Node [akka://HealthAssistantSystem@127.0.0.1:2551] - Leader is removing unreachable node [akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:53:24.520 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  a.c.s.ClusterSingletonManager - Younger observed OldestChanged: [Some(akka://HealthAssistantSystem@127.0.0.1:2552) -> myself]
2025-08-15 03:53:24.521 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  a.c.s.ClusterSingletonManager - ClusterSingletonManager state change [Younger -> BecomingOldest]
2025-08-15 03:53:25.546 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [1], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:25.630 [HealthAssistantSystem-akka.actor.default-dispatcher-3] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2552], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2552,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:53:26.565 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [2], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:27.583 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [3], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:28.602 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [4], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:29.623 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [5], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:30.646 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  a.c.s.ClusterSingletonManager - Retry [6], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:31.665 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [7], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:32.684 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [8], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:33.704 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  a.c.s.ClusterSingletonManager - Retry [9], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:33.708 [HealthAssistantSystem-akka.actor.default-dispatcher-26] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2552], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2552,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:53:34.723 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  a.c.s.ClusterSingletonManager - Retry [10], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:35.741 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [11], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:36.763 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [12], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:37.786 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [13], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:38.795 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [14], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:38.845 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-002: What is ibuprofen used for and what are the side effects?
2025-08-15 03:53:39.813 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [15], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:40.834 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [16], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:41.854 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [17], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:41.858 [HealthAssistantSystem-akka.actor.default-dispatcher-25] WARN  akka.stream.Materializer - [outbound connection to [akka://HealthAssistantSystem@127.0.0.1:2552], message stream] Upstream failed, cause: StreamTcpException: Tcp command [Connect(127.0.0.1/<unresolved>:2552,None,List(),Some(5000 milliseconds),true)] failed because of java.net.ConnectException: Connection refused: getsockopt
2025-08-15 03:53:42.875 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  a.c.s.ClusterSingletonManager - Retry [18], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:43.895 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Retry [19], sending HandOverToMe to [Some(akka://HealthAssistantSystem@127.0.0.1:2552)]
2025-08-15 03:53:44.522 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Member removed [akka://HealthAssistantSystem@127.0.0.1:2552], previous oldest [akka://HealthAssistantSystem@127.0.0.1:2552]
2025-08-15 03:53:44.523 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - Singleton manager starting singleton actor [akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:53:44.524 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  a.c.s.ClusterSingletonManager - ClusterSingletonManager state change [BecomingOldest -> Oldest]
2025-08-15 03:53:44.525 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.RouterActor - RouterActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:53:44.532 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  com.healthassistant.actors.LLMActor - LLMActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551 with Ollama URL: http://localhost:11434, model: llama3.2
2025-08-15 03:53:44.532 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.actors.PharmacyActor - PharmacyActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:53:44.532 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.RouterActor - Initialized 3 department actors
2025-08-15 03:53:44.532 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - LoggerActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:53:44.532 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  com.healthassistant.actors.LLMActor - LLMActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551 with Ollama URL: http://localhost:11434, model: llama3.2
2025-08-15 03:53:44.532 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.healthassistant.actors.LoggerActor - LoggerActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:53:44.532 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:53:44.533 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  com.healthassistant.actors.LLMActor - LLMActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551 with Ollama URL: http://localhost:11434, model: llama3.2
2025-08-15 03:53:44.533 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.actors.RadiologyActor - RadiologyActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:53:44.533 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - LoggerActor started on node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:53:44.623 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Ollama availability check: Available
2025-08-15 03:53:44.624 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  com.healthassistant.actors.LLMActor - Ollama service is available and ready
2025-08-15 03:53:44.624 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Ollama availability check: Available
2025-08-15 03:53:44.625 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  com.healthassistant.actors.LLMActor - Ollama service is available and ready
2025-08-15 03:53:44.625 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Ollama availability check: Available
2025-08-15 03:53:44.625 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  com.healthassistant.actors.LLMActor - Ollama service is available and ready
2025-08-15 03:53:44.630 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.actor.LocalActorRef - Message [java.lang.Boolean] to Actor[akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router/radiology-actor/radiology-llm-actor#2112330371] was unhandled. [8] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.
2025-08-15 03:53:44.631 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.actor.LocalActorRef - Message [java.lang.Boolean] to Actor[akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router/pharmacy-actor/pharmacy-llm-actor#147942672] was unhandled. [9] dead letters encountered. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.
2025-08-15 03:53:44.634 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  akka.actor.LocalActorRef - Message [java.lang.Boolean] to Actor[akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router/general-medicine-actor/llm-actor#1056359] was unhandled. [10] dead letters encountered, no more dead letters will be logged in next [5.000 min]. This logging can be turned off or adjusted with configuration settings 'akka.log-dead-letters' and 'akka.log-dead-letters-during-shutdown'.
2025-08-15 03:53:44.891 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  a.c.singleton.ClusterSingletonProxy - Singleton identified at [akka://HealthAssistantSystem/system/singletonManagerhealth-assistant-router/health-assistant-router]
2025-08-15 03:53:44.894 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.RouterActor - Routing query e87d66ad-376c-48d9-9573-ce875d3c9679 from user test-user-002 to department: pharmacy (Query: 'What is ibuprofen used for and what are the side effects?')
2025-08-15 03:53:44.896 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.RouterActor - Successfully routed query e87d66ad-376c-48d9-9573-ce875d3c9679 to pharmacy department using 'tell' pattern
2025-08-15 03:53:44.898 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.actors.PharmacyActor - PharmacyActor processing query e87d66ad-376c-48d9-9573-ce875d3c9679 from user test-user-002 on node akka://HealthAssistantSystem@127.0.0.1:2551 (forward pattern)
2025-08-15 03:53:44.902 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.actors.PharmacyActor - Sent pharmacy query e87d66ad-376c-48d9-9573-ce875d3c9679 to LLMActor for processing
2025-08-15 03:53:44.902 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  com.healthassistant.actors.LLMActor - Processing query e87d66ad-376c-48d9-9573-ce875d3c9679 on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 03:53:44.902 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=671
2025-08-15 03:53:44.903 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=671, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a knowledgeable pharmacy assistant. Provide accurate information about medications, dosages, side effects, drug interactions, and general pharmaceutical advice. Always emphasize the importance of consulting with pharmacists or healthcare providers for medication decisions and never recommend stopping prescribed medications without medical supervision.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What is ibuprofen used for and what are the side effects?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:54:00.495 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2034
2025-08-15 03:54:00.496 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query e87d66ad-376c-48d9-9573-ce875d3c9679, response length: 2034
2025-08-15 03:54:00.497 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.h.actors.PharmacyActor - Received LLM response for pharmacy query e87d66ad-376c-48d9-9573-ce875d3c9679 (success: true)
2025-08-15 03:54:00.500 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.h.actors.PharmacyActor - FORWARD PATTERN: Forwarded pharmacy query e87d66ad-376c-48d9-9573-ce875d3c9679 response through LoggerActor while maintaining original sender Actor[akka://HealthAssistantSystem/temp/singletonProxyhealth-assistant-router-no-dc$f#0]
2025-08-15 03:54:00.502 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: LoggerActor received forward request for query e87d66ad-376c-48d9-9573-ce875d3c9679 - will log and forward to original sender
2025-08-15 03:54:00.502 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query e87d66ad-376c-48d9-9573-ce875d3c9679 from user test-user-002 to pharmacy department (tell pattern)
2025-08-15 03:54:00.503 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:54:00.503 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Query ID: e87d66ad-376c-48d9-9573-ce875d3c9679
2025-08-15 03:54:00.503 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-002
2025-08-15 03:54:00.503 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Department: pharmacy
2025-08-15 03:54:00.504 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Query: What is ibuprofen used for and what are the side effects?
2025-08-15 03:54:00.504 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Response: Ibuprofen is a nonsteroidal anti-inflammatory drug (NSAID) commonly used to relieve pain, reduce inf...
2025-08-15 03:54:00.504 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:54:00.505 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:54:00.499397400
2025-08-15 03:54:00.505 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:54:00.505 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:54:00.506 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query e87d66ad-376c-48d9-9573-ce875d3c9679: success=true
2025-08-15 03:54:00.506 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: Successfully logged and forwarded response for query e87d66ad-376c-48d9-9573-ce875d3c9679 to original sender Actor[akka://HealthAssistantSystem/temp/singletonProxyhealth-assistant-router-no-dc$f#0]
2025-08-15 03:54:00.515 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-003: What should I expect during an MRI scan?
2025-08-15 03:54:00.516 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Routing query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc from user test-user-003 to department: radiology (Query: 'What should I expect during an MRI scan?')
2025-08-15 03:54:00.516 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc to radiology department using 'tell' pattern
2025-08-15 03:54:00.518 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.h.actors.RadiologyActor - RadiologyActor processing query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc from user test-user-003 on node akka://HealthAssistantSystem@127.0.0.1:2551 (multiple patterns)
2025-08-15 03:54:00.519 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.h.actors.RadiologyActor - Sent radiology query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc to LLMActor using 'ask' pattern
2025-08-15 03:54:00.519 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  com.healthassistant.actors.LLMActor - Processing query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 03:54:00.519 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=674
2025-08-15 03:54:00.519 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=674, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful radiology information assistant. Provide information about medical imaging procedures, what they detect, preparation requirements, and general information about X-rays, CT scans, MRIs, ultrasounds, and other imaging techniques. Always emphasize that only qualified radiologists and healthcare providers can interpret imaging results and provide medical diagnoses.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What should I expect during an MRI scan?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:54:19.077 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2288
2025-08-15 03:54:19.077 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc, response length: 2288
2025-08-15 03:54:19.077 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.RadiologyActor - Received LLM response for radiology query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc (success: true)
2025-08-15 03:54:19.077 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.RadiologyActor - Sent response to user using 'tell' pattern for query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc
2025-08-15 03:54:19.077 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc: success=true
2025-08-15 03:54:19.077 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.RadiologyActor - Sent log entry for query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc to LoggerActor using 'tell' pattern
2025-08-15 03:54:19.077 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc from user test-user-003 to radiology department (tell pattern)
2025-08-15 03:54:19.079 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.RadiologyActor - RadiologyActor completed processing query 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc using multiple communication patterns
2025-08-15 03:54:19.079 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:54:19.079 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - Query ID: 30a4d4ef-6728-4eeb-905d-54b70fd2ecfc
2025-08-15 03:54:19.079 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-003
2025-08-15 03:54:19.079 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - Department: radiology
2025-08-15 03:54:19.080 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - Query: What should I expect during an MRI scan?
2025-08-15 03:54:19.080 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - Response: As a radiology information assistant, I'm happy to guide you through what to expect during an MRI (M...
2025-08-15 03:54:19.080 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:54:19.080 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:54:19.077997700
2025-08-15 03:54:19.080 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:54:19.081 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:54:19.088 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-user-004: What are the symptoms of diabetes?
2025-08-15 03:54:19.089 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Routing query ff7bc951-4ac6-4763-891d-b78168d6bed1 from user test-user-004 to department: general-medicine (Query: 'What are the symptoms of diabetes?')
2025-08-15 03:54:19.089 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.RouterActor - Successfully routed query ff7bc951-4ac6-4763-891d-b78168d6bed1 to general-medicine department using 'tell' pattern
2025-08-15 03:54:19.092 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor processing query ff7bc951-4ac6-4763-891d-b78168d6bed1 from user test-user-004 on node akka://HealthAssistantSystem@127.0.0.1:2551 (ask pattern)
2025-08-15 03:54:19.092 [HealthAssistantSystem-akka.actor.default-dispatcher-6] INFO  c.h.actors.GeneralMedicineActor - Sent query ff7bc951-4ac6-4763-891d-b78168d6bed1 to LLMActor using 'ask' pattern
2025-08-15 03:54:19.092 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  com.healthassistant.actors.LLMActor - Processing query ff7bc951-4ac6-4763-891d-b78168d6bed1 on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 03:54:19.093 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=606
2025-08-15 03:54:19.093 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=606, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful medical information assistant. Provide general health information, explain symptoms and conditions, and offer general wellness advice. Always emphasize the importance of consulting with healthcare professionals for proper medical diagnosis and treatment, especially for serious or persistent symptoms.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What are the symptoms of diabetes?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:54:34.536 [ForkJoinPool.commonPool-worker-12] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2231
2025-08-15 03:54:34.537 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query ff7bc951-4ac6-4763-891d-b78168d6bed1, response length: 2231
2025-08-15 03:54:34.537 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.actors.GeneralMedicineActor - Received LLM response for query ff7bc951-4ac6-4763-891d-b78168d6bed1 (success: true)
2025-08-15 03:54:34.538 [ForkJoinPool.commonPool-worker-12] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query ff7bc951-4ac6-4763-891d-b78168d6bed1: success=true
2025-08-15 03:54:34.538 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.actors.GeneralMedicineActor - Sent log entry for query ff7bc951-4ac6-4763-891d-b78168d6bed1 to LoggerActor using 'tell' pattern
2025-08-15 03:54:34.538 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query ff7bc951-4ac6-4763-891d-b78168d6bed1 from user test-user-004 to general-medicine department (tell pattern)
2025-08-15 03:54:34.538 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.actors.GeneralMedicineActor - Completed processing query ff7bc951-4ac6-4763-891d-b78168d6bed1 - responded to user
2025-08-15 03:54:34.538 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:54:34.539 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Query ID: ff7bc951-4ac6-4763-891d-b78168d6bed1
2025-08-15 03:54:34.539 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - User ID: test-user-004
2025-08-15 03:54:34.539 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Department: general-medicine
2025-08-15 03:54:34.539 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Query: What are the symptoms of diabetes?
2025-08-15 03:54:34.540 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Response: I'm happy to help you understand more about diabetes! However, please keep in mind that only a quali...
2025-08-15 03:54:34.540 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:54:34.540 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:54:34.538498700
2025-08-15 03:54:34.540 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:54:34.541 [HealthAssistantSystem-akka.actor.default-dispatcher-26] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:55:36.884 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user monitor-test: Hello, this is a test
2025-08-15 03:55:36.885 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.RouterActor - Routing query 3caf391b-4570-42b5-87f7-494ebf99fdb9 from user monitor-test to department: general-medicine (Query: 'Hello, this is a test')
2025-08-15 03:55:36.885 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 3caf391b-4570-42b5-87f7-494ebf99fdb9 to general-medicine department using 'tell' pattern
2025-08-15 03:55:36.885 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor processing query 3caf391b-4570-42b5-87f7-494ebf99fdb9 from user monitor-test on node akka://HealthAssistantSystem@127.0.0.1:2551 (ask pattern)
2025-08-15 03:55:36.885 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.GeneralMedicineActor - Sent query 3caf391b-4570-42b5-87f7-494ebf99fdb9 to LLMActor using 'ask' pattern
2025-08-15 03:55:36.886 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  com.healthassistant.actors.LLMActor - Processing query 3caf391b-4570-42b5-87f7-494ebf99fdb9 on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 03:55:36.886 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=593
2025-08-15 03:55:36.887 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=593, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful medical information assistant. Provide general health information, explain symptoms and conditions, and offer general wellness advice. Always emphasize the importance of consulting with healthcare professionals for proper medical diagnosis and treatment, especially for serious or persistent symptoms.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: Hello, this is a test","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 03:55:41.746 [ForkJoinPool.commonPool-worker-14] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 873
2025-08-15 03:55:41.747 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 3caf391b-4570-42b5-87f7-494ebf99fdb9, response length: 873
2025-08-15 03:55:41.747 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.actors.GeneralMedicineActor - Received LLM response for query 3caf391b-4570-42b5-87f7-494ebf99fdb9 (success: true)
2025-08-15 03:55:41.747 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.actors.GeneralMedicineActor - Sent log entry for query 3caf391b-4570-42b5-87f7-494ebf99fdb9 to LoggerActor using 'tell' pattern
2025-08-15 03:55:41.747 [ForkJoinPool.commonPool-worker-14] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 3caf391b-4570-42b5-87f7-494ebf99fdb9: success=true
2025-08-15 03:55:41.747 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 3caf391b-4570-42b5-87f7-494ebf99fdb9 from user monitor-test to general-medicine department (tell pattern)
2025-08-15 03:55:41.748 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.actors.GeneralMedicineActor - Completed processing query 3caf391b-4570-42b5-87f7-494ebf99fdb9 - responded to user
2025-08-15 03:55:41.748 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 03:55:41.748 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Query ID: 3caf391b-4570-42b5-87f7-494ebf99fdb9
2025-08-15 03:55:41.749 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - User ID: monitor-test
2025-08-15 03:55:41.749 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Department: general-medicine
2025-08-15 03:55:41.749 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Query: Hello, this is a test
2025-08-15 03:55:41.749 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Response: Hello! It's great that you're reaching out for information. However, I want to remind you that it's ...
2025-08-15 03:55:41.749 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 03:55:41.750 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T03:55:41.747173900
2025-08-15 03:55:41.750 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 03:55:41.750 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 03:56:08.825 [HealthAssistantSystem-scheduler-1] ERROR c.h.http.HealthAssistantHttpServer - Error processing query
java.util.concurrent.CompletionException: java.util.concurrent.TimeoutException: Ask timed out on [Actor[akka://HealthAssistantSystem/system/singletonProxyhealth-assistant-router-no-dc#-810513251]] after [180000 ms]. Message of type [com.healthassistant.messages.RouterMessages$UserQuery]. A typical reason for `AskTimeoutException` is that the recipient actor didn't send a reply.
	at java.base/java.util.concurrent.CompletableFuture.wrapInCompletionException(CompletableFuture.java:325)
	at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:378)
	at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:393)
	at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:682)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:556)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2246)
	at scala.concurrent.java8.FuturesConvertersImpl$CF.apply(FutureConvertersImpl.scala:29)
	at scala.concurrent.java8.FuturesConvertersImpl$CF.apply(FutureConvertersImpl.scala:26)
	at scala.concurrent.impl.Promise$Transformation.run(Promise.scala:484)
	at scala.concurrent.ExecutionContext$parasitic$.execute(ExecutionContext.scala:222)
	at scala.concurrent.impl.Promise$Transformation.submitWithValue(Promise.scala:429)
	at scala.concurrent.impl.Promise$DefaultPromise.submitWithValue(Promise.scala:335)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete0(Promise.scala:285)
	at scala.concurrent.impl.Promise$DefaultPromise.tryComplete(Promise.scala:278)
	at akka.pattern.PromiseActorRef$.$anonfun$apply$1(AskSupport.scala:730)
	at akka.actor.Scheduler$$anon$7.run(Scheduler.scala:478)
	at scala.concurrent.ExecutionContext$parasitic$.execute(ExecutionContext.scala:222)
	at akka.actor.LightArrayRevolverScheduler$TaskHolder.executeTask(LightArrayRevolverScheduler.scala:365)
	at akka.actor.LightArrayRevolverScheduler$$anon$3.executeBucket$1(LightArrayRevolverScheduler.scala:314)
	at akka.actor.LightArrayRevolverScheduler$$anon$3.nextTick(LightArrayRevolverScheduler.scala:318)
	at akka.actor.LightArrayRevolverScheduler$$anon$3.run(LightArrayRevolverScheduler.scala:270)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: java.util.concurrent.TimeoutException: Ask timed out on [Actor[akka://HealthAssistantSystem/system/singletonProxyhealth-assistant-router-no-dc#-810513251]] after [180000 ms]. Message of type [com.healthassistant.messages.RouterMessages$UserQuery]. A typical reason for `AskTimeoutException` is that the recipient actor didn't send a reply.
	at akka.actor.typed.scaladsl.AskPattern$.$anonfun$onTimeout$1(AskPattern.scala:132)
	... 8 common frames omitted
2025-08-15 04:01:30.155 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user monitor-test: Hello, this is a test
2025-08-15 04:01:30.155 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.RouterActor - Routing query c5a6aa44-54e5-42ee-9656-5321fe14f06a from user monitor-test to department: general-medicine (Query: 'Hello, this is a test')
2025-08-15 04:01:30.156 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.RouterActor - Successfully routed query c5a6aa44-54e5-42ee-9656-5321fe14f06a to general-medicine department using 'tell' pattern
2025-08-15 04:01:30.156 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor processing query c5a6aa44-54e5-42ee-9656-5321fe14f06a from user monitor-test on node akka://HealthAssistantSystem@127.0.0.1:2551 (ask pattern)
2025-08-15 04:01:30.156 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Sent query c5a6aa44-54e5-42ee-9656-5321fe14f06a to LLMActor using 'ask' pattern
2025-08-15 04:01:30.156 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  com.healthassistant.actors.LLMActor - Processing query c5a6aa44-54e5-42ee-9656-5321fe14f06a on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 04:01:30.156 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=593
2025-08-15 04:01:30.157 [ForkJoinPool.commonPool-worker-15] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=593, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful medical information assistant. Provide general health information, explain symptoms and conditions, and offer general wellness advice. Always emphasize the importance of consulting with healthcare professionals for proper medical diagnosis and treatment, especially for serious or persistent symptoms.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: Hello, this is a test","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 04:01:34.884 [ForkJoinPool.commonPool-worker-15] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 417
2025-08-15 04:01:34.884 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query c5a6aa44-54e5-42ee-9656-5321fe14f06a, response length: 417
2025-08-15 04:01:34.885 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Received LLM response for query c5a6aa44-54e5-42ee-9656-5321fe14f06a (success: true)
2025-08-15 04:01:34.885 [ForkJoinPool.commonPool-worker-15] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query c5a6aa44-54e5-42ee-9656-5321fe14f06a: success=true
2025-08-15 04:01:34.885 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Sent log entry for query c5a6aa44-54e5-42ee-9656-5321fe14f06a to LoggerActor using 'tell' pattern
2025-08-15 04:01:34.885 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query c5a6aa44-54e5-42ee-9656-5321fe14f06a from user monitor-test to general-medicine department (tell pattern)
2025-08-15 04:01:34.885 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Completed processing query c5a6aa44-54e5-42ee-9656-5321fe14f06a - responded to user
2025-08-15 04:01:34.886 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 04:01:34.886 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Query ID: c5a6aa44-54e5-42ee-9656-5321fe14f06a
2025-08-15 04:01:34.886 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - User ID: monitor-test
2025-08-15 04:01:34.886 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Department: general-medicine
2025-08-15 04:01:34.886 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Query: Hello, this is a test
2025-08-15 04:01:34.887 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Response: Hello! I'm here to help answer your health-related questions. Please know that I'm not a substitute ...
2025-08-15 04:01:34.887 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 04:01:34.887 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T04:01:34.885867900
2025-08-15 04:01:34.887 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 04:01:34.887 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 04:05:00.851 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user monitor-test: Hello, this is a test
2025-08-15 04:05:00.852 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.RouterActor - Routing query 64409089-1ddf-4c3c-9291-e499b244b11f from user monitor-test to department: general-medicine (Query: 'Hello, this is a test')
2025-08-15 04:05:00.852 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 64409089-1ddf-4c3c-9291-e499b244b11f to general-medicine department using 'tell' pattern
2025-08-15 04:05:00.852 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor processing query 64409089-1ddf-4c3c-9291-e499b244b11f from user monitor-test on node akka://HealthAssistantSystem@127.0.0.1:2551 (ask pattern)
2025-08-15 04:05:00.852 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.actors.GeneralMedicineActor - Sent query 64409089-1ddf-4c3c-9291-e499b244b11f to LLMActor using 'ask' pattern
2025-08-15 04:05:00.852 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  com.healthassistant.actors.LLMActor - Processing query 64409089-1ddf-4c3c-9291-e499b244b11f on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 04:05:00.852 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=593
2025-08-15 04:05:00.852 [ForkJoinPool.commonPool-worker-16] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=593, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful medical information assistant. Provide general health information, explain symptoms and conditions, and offer general wellness advice. Always emphasize the importance of consulting with healthcare professionals for proper medical diagnosis and treatment, especially for serious or persistent symptoms.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: Hello, this is a test","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 04:05:04.932 [ForkJoinPool.commonPool-worker-16] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 734
2025-08-15 04:05:04.933 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 64409089-1ddf-4c3c-9291-e499b244b11f, response length: 734
2025-08-15 04:05:04.933 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Received LLM response for query 64409089-1ddf-4c3c-9291-e499b244b11f (success: true)
2025-08-15 04:05:04.933 [ForkJoinPool.commonPool-worker-16] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 64409089-1ddf-4c3c-9291-e499b244b11f: success=true
2025-08-15 04:05:04.933 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Sent log entry for query 64409089-1ddf-4c3c-9291-e499b244b11f to LoggerActor using 'tell' pattern
2025-08-15 04:05:04.933 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 64409089-1ddf-4c3c-9291-e499b244b11f from user monitor-test to general-medicine department (tell pattern)
2025-08-15 04:05:04.934 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.actors.GeneralMedicineActor - Completed processing query 64409089-1ddf-4c3c-9291-e499b244b11f - responded to user
2025-08-15 04:05:04.934 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 04:05:04.934 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - Query ID: 64409089-1ddf-4c3c-9291-e499b244b11f
2025-08-15 04:05:04.934 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - User ID: monitor-test
2025-08-15 04:05:04.935 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - Department: general-medicine
2025-08-15 04:05:04.935 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - Query: Hello, this is a test
2025-08-15 04:05:04.935 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - Response: Hello! I'm here to help with any health-related questions you may have. Please feel free to ask me a...
2025-08-15 04:05:04.935 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 04:05:04.936 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T04:05:04.933608700
2025-08-15 04:05:04.936 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 04:05:04.936 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 04:05:13.597 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user patient-001: I have been experiencing chest pain and shortness of breath. Should I be worried?
2025-08-15 04:05:13.598 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.RouterActor - Routing query 570ebe55-aea0-4000-8ce4-940f3804785e from user patient-001 to department: general-medicine (Query: 'I have been experiencing chest pain and shortness of breath. Should I be worried?')
2025-08-15 04:05:13.598 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 570ebe55-aea0-4000-8ce4-940f3804785e to general-medicine department using 'tell' pattern
2025-08-15 04:05:13.598 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.GeneralMedicineActor - GeneralMedicineActor processing query 570ebe55-aea0-4000-8ce4-940f3804785e from user patient-001 on node akka://HealthAssistantSystem@127.0.0.1:2551 (ask pattern)
2025-08-15 04:05:13.598 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.GeneralMedicineActor - Sent query 570ebe55-aea0-4000-8ce4-940f3804785e to LLMActor using 'ask' pattern
2025-08-15 04:05:13.598 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  com.healthassistant.actors.LLMActor - Processing query 570ebe55-aea0-4000-8ce4-940f3804785e on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 04:05:13.599 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=653
2025-08-15 04:05:13.599 [ForkJoinPool.commonPool-worker-16] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=653, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful medical information assistant. Provide general health information, explain symptoms and conditions, and offer general wellness advice. Always emphasize the importance of consulting with healthcare professionals for proper medical diagnosis and treatment, especially for serious or persistent symptoms.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: I have been experiencing chest pain and shortness of breath. Should I be worried?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 04:05:31.650 [ForkJoinPool.commonPool-worker-16] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2378
2025-08-15 04:05:31.651 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 570ebe55-aea0-4000-8ce4-940f3804785e, response length: 2378
2025-08-15 04:05:31.651 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.GeneralMedicineActor - Received LLM response for query 570ebe55-aea0-4000-8ce4-940f3804785e (success: true)
2025-08-15 04:05:31.651 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.GeneralMedicineActor - Sent log entry for query 570ebe55-aea0-4000-8ce4-940f3804785e to LoggerActor using 'tell' pattern
2025-08-15 04:05:31.651 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.GeneralMedicineActor - Completed processing query 570ebe55-aea0-4000-8ce4-940f3804785e - responded to user
2025-08-15 04:05:31.651 [ForkJoinPool.commonPool-worker-16] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 570ebe55-aea0-4000-8ce4-940f3804785e: success=true
2025-08-15 04:05:31.651 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 570ebe55-aea0-4000-8ce4-940f3804785e from user patient-001 to general-medicine department (tell pattern)
2025-08-15 04:05:31.652 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 04:05:31.652 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Query ID: 570ebe55-aea0-4000-8ce4-940f3804785e
2025-08-15 04:05:31.652 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - User ID: patient-001
2025-08-15 04:05:31.652 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Department: general-medicine
2025-08-15 04:05:31.653 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Query: I have been experiencing chest pain and shortness of breath. Should I be worried?
2025-08-15 04:05:31.653 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Response: I'm not a medical professional, but I can provide some general information that may help. If you're ...
2025-08-15 04:05:31.653 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 04:05:31.653 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T04:05:31.651717400
2025-08-15 04:05:31.653 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 04:05:31.653 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 04:10:32.930 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user patient-002: What is the recommended dosage for ibuprofen and can I take it with blood pressure medication?
2025-08-15 04:10:32.931 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.RouterActor - Routing query 0487e1c2-c829-41a1-81a1-eb34bf5a018d from user patient-002 to department: pharmacy (Query: 'What is the recommended dosage for ibuprofen and can I take it with blood pressure medication?')
2025-08-15 04:10:32.932 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 0487e1c2-c829-41a1-81a1-eb34bf5a018d to pharmacy department using 'tell' pattern
2025-08-15 04:10:32.932 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.PharmacyActor - PharmacyActor processing query 0487e1c2-c829-41a1-81a1-eb34bf5a018d from user patient-002 on node akka://HealthAssistantSystem@127.0.0.1:2551 (forward pattern)
2025-08-15 04:10:32.932 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.PharmacyActor - Sent pharmacy query 0487e1c2-c829-41a1-81a1-eb34bf5a018d to LLMActor for processing
2025-08-15 04:10:32.932 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  com.healthassistant.actors.LLMActor - Processing query 0487e1c2-c829-41a1-81a1-eb34bf5a018d on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 04:10:32.932 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=708
2025-08-15 04:10:32.933 [ForkJoinPool.commonPool-worker-17] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=708, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a knowledgeable pharmacy assistant. Provide accurate information about medications, dosages, side effects, drug interactions, and general pharmaceutical advice. Always emphasize the importance of consulting with pharmacists or healthcare providers for medication decisions and never recommend stopping prescribed medications without medical supervision.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What is the recommended dosage for ibuprofen and can I take it with blood pressure medication?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 04:10:48.795 [ForkJoinPool.commonPool-worker-17] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2079
2025-08-15 04:10:48.795 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 0487e1c2-c829-41a1-81a1-eb34bf5a018d, response length: 2079
2025-08-15 04:10:48.796 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.PharmacyActor - Received LLM response for pharmacy query 0487e1c2-c829-41a1-81a1-eb34bf5a018d (success: true)
2025-08-15 04:10:48.796 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: LoggerActor received forward request for query 0487e1c2-c829-41a1-81a1-eb34bf5a018d - will log and forward to original sender
2025-08-15 04:10:48.796 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.PharmacyActor - FORWARD PATTERN: Forwarded pharmacy query 0487e1c2-c829-41a1-81a1-eb34bf5a018d response through LoggerActor while maintaining original sender Actor[akka://HealthAssistantSystem/temp/singletonProxyhealth-assistant-router-no-dc$g#0]
2025-08-15 04:10:48.796 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 0487e1c2-c829-41a1-81a1-eb34bf5a018d from user patient-002 to pharmacy department (tell pattern)
2025-08-15 04:10:48.796 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 04:10:48.797 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Query ID: 0487e1c2-c829-41a1-81a1-eb34bf5a018d
2025-08-15 04:10:48.797 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - User ID: patient-002
2025-08-15 04:10:48.797 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Department: pharmacy
2025-08-15 04:10:48.797 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Query: What is the recommended dosage for ibuprofen and can I take it with blood pressure medication?
2025-08-15 04:10:48.798 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Response: I'm not a doctor, but I can provide general information about ibuprofen. However, for personalized a...
2025-08-15 04:10:48.798 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 04:10:48.798 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T04:10:48.796042200
2025-08-15 04:10:48.798 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 04:10:48.798 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 04:10:48.799 [ForkJoinPool.commonPool-worker-17] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 0487e1c2-c829-41a1-81a1-eb34bf5a018d: success=true
2025-08-15 04:10:48.799 [HealthAssistantSystem-akka.actor.default-dispatcher-25] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: Successfully logged and forwarded response for query 0487e1c2-c829-41a1-81a1-eb34bf5a018d to original sender Actor[akka://HealthAssistantSystem/temp/singletonProxyhealth-assistant-router-no-dc$g#0]
2025-08-15 04:12:20.812 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user patient-003: I need to get an MRI scan for my knee. What should I expect and how should I prepare?
2025-08-15 04:12:20.812 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.RouterActor - Routing query e48e3a47-11ab-40be-ba6f-f72e9919e5e8 from user patient-003 to department: radiology (Query: 'I need to get an MRI scan for my knee. What should I expect and how should I prepare?')
2025-08-15 04:12:20.813 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.healthassistant.actors.RouterActor - Successfully routed query e48e3a47-11ab-40be-ba6f-f72e9919e5e8 to radiology department using 'tell' pattern
2025-08-15 04:12:20.813 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.actors.RadiologyActor - RadiologyActor processing query e48e3a47-11ab-40be-ba6f-f72e9919e5e8 from user patient-003 on node akka://HealthAssistantSystem@127.0.0.1:2551 (multiple patterns)
2025-08-15 04:12:20.813 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.h.actors.RadiologyActor - Sent radiology query e48e3a47-11ab-40be-ba6f-f72e9919e5e8 to LLMActor using 'ask' pattern
2025-08-15 04:12:20.813 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  com.healthassistant.actors.LLMActor - Processing query e48e3a47-11ab-40be-ba6f-f72e9919e5e8 on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 04:12:20.813 [HealthAssistantSystem-akka.actor.default-dispatcher-34] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=719
2025-08-15 04:12:20.814 [ForkJoinPool.commonPool-worker-18] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=719, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a helpful radiology information assistant. Provide information about medical imaging procedures, what they detect, preparation requirements, and general information about X-rays, CT scans, MRIs, ultrasounds, and other imaging techniques. Always emphasize that only qualified radiologists and healthcare providers can interpret imaging results and provide medical diagnoses.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: I need to get an MRI scan for my knee. What should I expect and how should I prepare?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 04:12:39.977 [ForkJoinPool.commonPool-worker-18] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 2325
2025-08-15 04:12:39.978 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query e48e3a47-11ab-40be-ba6f-f72e9919e5e8, response length: 2325
2025-08-15 04:12:39.978 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.RadiologyActor - Received LLM response for radiology query e48e3a47-11ab-40be-ba6f-f72e9919e5e8 (success: true)
2025-08-15 04:12:39.979 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.RadiologyActor - Sent response to user using 'tell' pattern for query e48e3a47-11ab-40be-ba6f-f72e9919e5e8
2025-08-15 04:12:39.979 [ForkJoinPool.commonPool-worker-18] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query e48e3a47-11ab-40be-ba6f-f72e9919e5e8: success=true
2025-08-15 04:12:39.979 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.RadiologyActor - Sent log entry for query e48e3a47-11ab-40be-ba6f-f72e9919e5e8 to LoggerActor using 'tell' pattern
2025-08-15 04:12:39.979 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query e48e3a47-11ab-40be-ba6f-f72e9919e5e8 from user patient-003 to radiology department (tell pattern)
2025-08-15 04:12:39.979 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.RadiologyActor - RadiologyActor completed processing query e48e3a47-11ab-40be-ba6f-f72e9919e5e8 using multiple communication patterns
2025-08-15 04:12:39.979 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 04:12:39.980 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Query ID: e48e3a47-11ab-40be-ba6f-f72e9919e5e8
2025-08-15 04:12:39.980 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - User ID: patient-003
2025-08-15 04:12:39.980 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Department: radiology
2025-08-15 04:12:39.980 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Query: I need to get an MRI scan for my knee. What should I expect and how should I prepare?
2025-08-15 04:12:39.980 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Response: I'd be happy to help you understand what to expect from an MRI (Magnetic Resonance Imaging) scan for...
2025-08-15 04:12:39.980 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 04:12:39.981 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T04:12:39.979190200
2025-08-15 04:12:39.981 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 04:12:39.981 [HealthAssistantSystem-akka.actor.default-dispatcher-32] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 04:19:56.866 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.h.http.HealthAssistantHttpServer - Received HTTP query from user test-pharmacy-user: What are the side effects of ibuprofen and how should I take it?
2025-08-15 04:19:56.867 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.RouterActor - Routing query 9ed01682-a999-4c00-913a-d0f0703ac7af from user test-pharmacy-user to department: pharmacy (Query: 'What are the side effects of ibuprofen and how should I take it?')
2025-08-15 04:19:56.867 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.RouterActor - Successfully routed query 9ed01682-a999-4c00-913a-d0f0703ac7af to pharmacy department using 'tell' pattern
2025-08-15 04:19:56.867 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.PharmacyActor - PharmacyActor processing query 9ed01682-a999-4c00-913a-d0f0703ac7af from user test-pharmacy-user on node akka://HealthAssistantSystem@127.0.0.1:2551 (forward pattern)
2025-08-15 04:19:56.868 [HealthAssistantSystem-akka.actor.default-dispatcher-33] INFO  c.h.actors.PharmacyActor - Sent pharmacy query 9ed01682-a999-4c00-913a-d0f0703ac7af to LLMActor for processing
2025-08-15 04:19:56.868 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  com.healthassistant.actors.LLMActor - Processing query 9ed01682-a999-4c00-913a-d0f0703ac7af on node akka://HealthAssistantSystem@127.0.0.1:2551 using LLaMA model (ask pattern)
2025-08-15 04:19:56.868 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=678
2025-08-15 04:19:56.869 [ForkJoinPool.commonPool-worker-19] INFO  c.h.services.OllamaService - Sending request to Ollama: model=llama3.2, prompt length=678, request body: {"model":"llama3.2","prompt":"You are a helpful medical assistant. Context: You are a knowledgeable pharmacy assistant. Provide accurate information about medications, dosages, side effects, drug interactions, and general pharmaceutical advice. Always emphasize the importance of consulting with pharmacists or healthcare providers for medication decisions and never recommend stopping prescribed medications without medical supervision.\n\nPlease provide a helpful, accurate, and professional response to the following medical query. Important: Always recommend consulting with healthcare professionals for serious medical concerns.\n\nQuery: What are the side effects of ibuprofen and how should I take it?","stream":false,"options":{"temperature":0.7,"top_p":0.9,"num_predict":500}}
2025-08-15 04:20:11.078 [ForkJoinPool.commonPool-worker-19] INFO  c.h.services.OllamaService - Successfully received response from Ollama, length: 1680
2025-08-15 04:20:11.079 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  com.healthassistant.actors.LLMActor - LLM processing successful for query 9ed01682-a999-4c00-913a-d0f0703ac7af, response length: 1680
2025-08-15 04:20:11.080 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.PharmacyActor - Received LLM response for pharmacy query 9ed01682-a999-4c00-913a-d0f0703ac7af (success: true)
2025-08-15 04:20:11.081 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: LoggerActor received forward request for query 9ed01682-a999-4c00-913a-d0f0703ac7af - will log and forward to original sender
2025-08-15 04:20:11.081 [HealthAssistantSystem-akka.actor.default-dispatcher-35] INFO  c.h.actors.PharmacyActor - FORWARD PATTERN: Forwarded pharmacy query 9ed01682-a999-4c00-913a-d0f0703ac7af response through LoggerActor while maintaining original sender Actor[akka://HealthAssistantSystem/temp/singletonProxyhealth-assistant-router-no-dc$h#0]
2025-08-15 04:20:11.081 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - Logging entry for query 9ed01682-a999-4c00-913a-d0f0703ac7af from user test-pharmacy-user to pharmacy department (tell pattern)
2025-08-15 04:20:11.081 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - === QUERY LOG ===
2025-08-15 04:20:11.081 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - Query ID: 9ed01682-a999-4c00-913a-d0f0703ac7af
2025-08-15 04:20:11.082 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - User ID: test-pharmacy-user
2025-08-15 04:20:11.082 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - Department: pharmacy
2025-08-15 04:20:11.082 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - Query: What are the side effects of ibuprofen and how should I take it?
2025-08-15 04:20:11.082 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - Response: I'm not a licensed medical professional, so I can't provide personalized medical advice. However, I ...
2025-08-15 04:20:11.082 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - Success: true
2025-08-15 04:20:11.082 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - Timestamp: 2025-08-15T04:20:11.080069
2025-08-15 04:20:11.083 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - Node: akka://HealthAssistantSystem@127.0.0.1:2551
2025-08-15 04:20:11.083 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - =================
2025-08-15 04:20:11.083 [ForkJoinPool.commonPool-worker-19] INFO  c.h.http.HealthAssistantHttpServer - Returning HTTP response for query 9ed01682-a999-4c00-913a-d0f0703ac7af: success=true
2025-08-15 04:20:11.083 [HealthAssistantSystem-akka.actor.default-dispatcher-3] INFO  c.healthassistant.actors.LoggerActor - FORWARD PATTERN: Successfully logged and forwarded response for query 9ed01682-a999-4c00-913a-d0f0703ac7af to original sender Actor[akka://HealthAssistantSystem/temp/singletonProxyhealth-assistant-router-no-dc$h#0]
